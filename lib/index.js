"use strict";var e=require("path"),n=require("fs");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=r(e),t={subNavShow:[],ignoreFolders:["node_modules"],ignoreFiles:[],dirPrefix:"📂  ",filePrefix:"✏️  ",useREADME:!0,deep:2,childrenKey:"children"};function o(){return t||{}}var s=function(e,r){void 0===r&&(r="");var t,s,u,c=o();return(t=e,s=["md"],u=c.ignoreFiles,void 0===s&&(s=[]),void 0===u&&(u=[]),n.readdirSync(t).sort().filter((function(e){var r=n.statSync(i.default.join(t,e)),o=e.slice(e.lastIndexOf(".")+1);return r.isFile()&&s.includes(o)&&function(e){return"readme.md"!==e.toLocaleLowerCase()}(e)&&!u.includes(e)}))).map((function(e){return r+e}))},u=function(e,r,t){void 0===t&&(t="/");var c=o(),d=[];(function(e){void 0===e&&(e=".");var r=o(),t=n.readdirSync(e),s=[];return t.forEach((function(t){var o=i.default.join(e,t);n.statSync(o).isDirectory()&&!r.ignoreFolders.includes(t)&&s.push(o)})),s})(e).sort().forEach((function(e){var n,i,o,s=e.substring(e.lastIndexOf("/")+1),l=t+s+"/",a=u(e,r+1,l);d.push(((n={text:"".concat(c.dirPrefix).concat(s),link:c.useREADME?l:null!==(o=null===(i=a[0])||void 0===i?void 0:i.link)&&void 0!==o?o:l})[c.childrenKey]=0===r||c.subNavShow.includes(s)?a:[],n))}));var l=s(e,t);return l.length>0&&l.sort().filter((function(e){return!c.ignoreFiles.includes(e.substring(e.lastIndexOf("/")+1,e.lastIndexOf(".")))})).forEach((function(e){d.push({text:"".concat(c.filePrefix).concat(e.substring(e.lastIndexOf("/")+1,e.lastIndexOf("."))),link:e})})),console.log(d),d};u("../code-drying-plan",0),module.exports=function(n){n||(n=t);var r=Object.assign({},t,n),i=e.resolve(process.cwd(),"docs");return function(e){t=e}(r),u(i,0)};
